import { render, screen } from '@testing-library/react';
import React from 'react';
import Confirmacao from './Confirmacao';
import Menu from './Menu';

describe('Componente Menu', () => {
  it('Deve sair', () => {
    const useContextMock = React.useContext = jest.fn();
    useContextMock.mockReturnValue({
      "usuario": {
        "username": "admin",
        "perfis": ["ADMIN"]
      },
      "token": "xxxxxxxx"
    });

    render(
      <Menu />
    );

    screen.debug();

    const button = screen.getByText(/Sair/i);

    button.simulate('click');

    expect(screen.getByText(/Confirma a exclus√£o?/i))
      .toBeInTheDocument();
  });
});

